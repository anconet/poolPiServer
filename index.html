<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>PoolPiGrace</title>
<link href="index.css" rel="stylesheet" type="text/css">
<!-- JQuery Library from Google -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>

<body>
	<header>
		<h2>
			POOL PI
		</h2>
		<nav>
			<ul>
				<li><a id= "a1">MODE</a></li>
				<li><a id= "a2">LIGHTS</a></li>
				<li><a id= "a3">TEMP</a></li>
			</ul>
		</nav>
	</header>

	<section class="intro">
		<p class="intro-content">You're only one
		swim away from a
		good mood</p>
	</section>

	<section class="mode" id="mode-anchor">
	  <div class="button-div">
	  	<button id="spaModeButton" class="mode-buttons buttonOn">
	  		SPA
	  	</button>
	  </div>
	  <h1> mode </h1>
	  <div class="button-div">
	  	<button id="poolModeButton" class="mode-buttons buttonOff">
	  		POOL
	  	</button>
	  </div>
	</section>
</body>

<script>
	$("#poolModeButton").click(function(){
		var objEvent = {};
		objEvent.type = "buttonPress";
		objEvent.subject = "poolModeButton";
		var objElementID = this;
		$.post( "php/buttonPress.php", objEvent, function(data){processResponse(data,objElementID)}, "json");
	});

	function processResponse(objEventResponse,objElementID) {
		console.log (objEventResponse);
		if (objEventResponse.response == "off") { $(objElementID).removeClass("buttonOn").addClass("buttonOff");}
		else if (objEventResponse.response == "on") { $(objElementID).removeClass("buttonOff").addClass("buttonOn");}
		else { alert("Error: Server Response: " + objEventResponse.response)}
	}
</script>

</html>
